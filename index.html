<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Dork Matrix v4 | CodeCipher</title>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600;700&display=swap" rel="stylesheet" />

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: 'Fira Code', monospace;
  background: black;
  color: #00ff00;
  overflow-x: hidden;
}

/* MATRIX */
#matrix {
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  z-index: 0;
  pointer-events: none;
}

#ui {
  position: relative;
  z-index: 5;
  margin-top: -8px;
}

h1 {
  text-align: center;
  padding: 12px;
  margin: 0;
  border-bottom: 1px solid rgba(0,255,0,0.75);
  text-shadow: 0 0 14px rgba(0,255,0,0.85);
  letter-spacing: 1px;
}

.container {
  display: flex;
  height: calc(100vh - 170px);
}

.left, .right {
  padding: 14px;
  overflow-y: auto;
}

.left {
  width: 68%;
  border-right: 1px solid rgba(0,255,0,0.35);
}

.right { width: 32%; }

.panel {
  border: 1px solid rgba(0,255,0,0.28);
  background: rgba(0,0,0,0.58);
  padding: 12px;
  border-radius: 16px;
  box-shadow: 0 0 16px rgba(0,255,0,0.10);
  backdrop-filter: blur(4px);
}

h3 {
  margin: 6px 0 10px;
  text-shadow: 0 0 10px rgba(0,255,0,0.22);
}

input[type="text"] {
  width: 100%;
  padding: 12px 12px;
  background: rgba(0,0,0,0.88);
  color: #00ff00;
  border: 1px solid rgba(0,255,0,0.85);
  border-radius: 12px;
  font-weight: 700;
}

input[type="text"]:focus {
  outline: none;
  box-shadow: 0 0 12px rgba(0,255,0,0.8);
}

.small {
  margin-top: 10px;
  font-size: 12.5px;
  line-height: 1.55;
  color: #99ff99;
  opacity: 0.95;
}

button {
  width: 100%;
  background: rgba(0,0,0,0.86);
  color: #00ff00;
  border: 1px solid rgba(0,255,0,0.55);
  border-left: 4px solid #00ff00;
  padding: 11px 12px;
  margin: 7px 0;
  cursor: pointer;
  font-weight: 800;
  text-align: left;
  border-radius: 14px;
  transition: all 0.20s ease;
  letter-spacing: 0.2px;
}

button:hover {
  background: #00ff00;
  color: black;
  box-shadow: 0 0 8px #00ff00, 0 0 22px rgba(0,255,0,0.8);
  transform: scale(1.01);
}

.tag { float: right; margin-left: 12px; }

.high { color: #ff6666; }
.medium { color: #ffff66; }
.low { color: #66ff66; }

.sevHeader {
  margin: 18px 0 10px;
  padding: 10px 12px;
  border: 1px solid rgba(0,255,0,0.28);
  border-left: 4px solid rgba(0,255,0,0.9);
  border-radius: 16px;
  background: rgba(0,0,0,0.64);
  text-shadow: 0 0 12px rgba(0,255,0,0.28);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.sevHeader .meta {
  font-size: 12px;
  opacity: 0.9;
  color: #99ff99;
}

.badge {
  display: inline-block;
  border: 1px solid rgba(0,255,0,0.35);
  padding: 2px 10px;
  border-radius: 999px;
  font-size: 12px;
  opacity: 0.95;
  background: rgba(0,0,0,0.35);
}

.accent {
  color: #00ffaa;
  text-shadow: 0 0 7px rgba(0,255,170,0.55);
}

footer {
  position: fixed;
  bottom: 0; left: 0;
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 9px 14px;
  background: rgba(0,0,0,0.84);
  border-top: 1px solid rgba(0,255,0,0.35);
  font-size: 12px;
  z-index: 6;
}

#footerCenter { text-align: center; }

/* Toggle switch styling */
.toggleWrap {
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(0,255,0,0.25);
  background: rgba(0,0,0,0.35);
}
.toggleRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  font-weight: 800;
}
.switch {
  position: relative;
  width: 52px;
  height: 28px;
  flex: 0 0 auto;
}
.switch input { display: none; }
.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,255,0,0.15);
  border: 1px solid rgba(0,255,0,0.55);
  transition: .2s;
  border-radius: 999px;
  box-shadow: 0 0 10px rgba(0,255,0,0.15);
}
.slider:before {
  position: absolute;
  content: "";
  height: 22px;
  width: 22px;
  left: 3px;
  top: 2.5px;
  background: #00ff00;
  transition: .2s;
  border-radius: 999px;
  box-shadow: 0 0 14px rgba(0,255,0,0.7);
}
input:checked + .slider {
  background: rgba(0,255,0,0.22);
  box-shadow: 0 0 16px rgba(0,255,0,0.22);
}
input:checked + .slider:before {
  transform: translateX(24px);
}

/* MOBILE */
@media (max-width: 768px) {
  .container { flex-direction: column; height: auto; }
  .left, .right { width: 100%; border-right: none; }
  footer { flex-direction: column; text-align: center; gap: 4px; }
}
</style>
</head>

<body>
<canvas id="matrix"></canvas>

<div id="ui">
  <h1>‚ò† DORK MATRIX v4 ‚ò†</h1>

  <div class="container">
    <div class="left">
      <div class="panel">
        <div id="dorkList"></div>
      </div>
    </div>

    <div class="right">
      <div class="panel">
        <h3 style="margin-top:0;">üéØ Target Filter</h3>
        <input id="target" type="text" placeholder="example.com (optional)" />

        <!-- NOISE FILTER TOGGLE -->
        <div class="toggleWrap">
          <div class="toggleRow">
            <div>Noise Filters: <span class="accent" id="noiseState">ON</span></div>
            <label class="switch">
              <input type="checkbox" id="noiseToggle" checked />
              <span class="slider"></span>
            </label>
          </div>
          <div class="small" style="margin-top:8px;">
            ON = less trash results (recommended)<br/>
            OFF = maximum results (use when results are missing)
          </div>
        </div>

        <div class="small">
          ‚úÖ Enter a domain ‚Üí <span class="accent">Target Mode</span> activates (high intent).<br/>
          ‚úÖ Cloud dorks always available (AWS/Azure/GCP).<br/>
          ‚úÖ Misconfig/Debug included (phpinfo, .git, backups, swagger, stack traces).<br/>
          üí° Right-click any dork ‚Üí copy.
        </div>
      </div>

      <div style="height:12px;"></div>

      <div class="panel">
        <h3 style="margin-top:0;">üß† Accuracy Engine</h3>
        <div class="small">
          This build is optimized for <span class="accent">high signal</span>.<br/>
          - FOIA/FOI removed entirely<br/>
          - Confidence score per query<br/>
          - Noise filter toggle gives you control
        </div>
      </div>
    </div>
  </div>

  <footer>
    <div>Made with ‚ù§Ô∏è by <span class="accent">CodeCipher</span></div>
    <div id="footerCenter">Authorized & ethical testing only</div>
    <div>Happy Hunting ‚ò†Ô∏è</div>
  </footer>
</div>

<script>
/* =========================
   MATRIX EFFECT
   ========================= */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

const chars = "01ABCDEFGHIJKLMNOPQRSTUVWXYZ@#$%^&*";
const fontSize = 14;
let drops = [];

function initDrops() {
  const cols = Math.floor(canvas.width / fontSize);
  drops = Array(cols).fill(1);
}
initDrops();
window.addEventListener("resize", initDrops);

function drawMatrix() {
  ctx.fillStyle = "rgba(0,0,0,0.25)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  ctx.fillStyle = "#00ff00";
  ctx.font = fontSize + "px monospace";

  drops.forEach((y,i)=>{
    const text = chars[Math.floor(Math.random()*chars.length)];
    ctx.fillText(text,i*fontSize,y*fontSize);

    if(y*fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
    drops[i]++;
  });
}
setInterval(drawMatrix, 50);

/* =========================
   NOISE FILTER STRING
   (Applied only if toggle ON)
   ========================= */
const NOISE_FILTER =
  '-inurl:assets -inurl:static -inurl:media -inurl:img -inurl:images -inurl:css -inurl:js -inurl:fonts ' +
  '-inurl:blog -inurl:press -inurl:news -inurl:about -inurl:careers -inurl:jobs ' +
  '-inurl:privacy -inurl:terms -inurl:cookie -inurl:help -inurl:support -inurl:docs';

function getNoiseFilter() {
  const enabled = document.getElementById("noiseToggle").checked;
  return enabled ? NOISE_FILTER : "";
}

function updateNoiseUI() {
  const enabled = document.getElementById("noiseToggle").checked;
  document.getElementById("noiseState").textContent = enabled ? "ON" : "OFF";
}

/* =========================
   CLOUD DORKS (AWS/AZURE/GCP)
   ========================= */
const cloudDorks = [
  /* üî¥ HIGH ‚Äî Tier 3 */
  // AWS
  { q: 'site:s3.amazonaws.com ("backup" OR "db_backup" OR "database dump") filetype:sql', severity: 'HIGH', provider: 'AWS', conf: 85 },
  { q: 'site:s3.amazonaws.com ("backup" OR "dump") filetype:zip', severity: 'HIGH', provider: 'AWS', conf: 80 },
  { q: 'site:s3.amazonaws.com filetype:log ("error" OR "exception")', severity: 'HIGH', provider: 'AWS', conf: 70 },
  { q: 'site:s3.amazonaws.com filetype:env', severity: 'HIGH', provider: 'AWS', conf: 75 },
  { q: 'site:s3.amazonaws.com filetype:config ("password" OR "secret")', severity: 'HIGH', provider: 'AWS', conf: 78 },

  // AZURE
  { q: 'site:blob.core.windows.net ("backup" OR "dbbackup") filetype:bak', severity: 'HIGH', provider: 'AZURE', conf: 88 },
  { q: 'site:blob.core.windows.net ("export" OR "dump") filetype:csv', severity: 'HIGH', provider: 'AZURE', conf: 82 },
  { q: 'site:blob.core.windows.net ("appsettings" OR "configuration") filetype:json', severity: 'HIGH', provider: 'AZURE', conf: 86 },
  { q: 'site:blob.core.windows.net ("connection string") filetype:json', severity: 'HIGH', provider: 'AZURE', conf: 90 },
  { q: 'site:blob.core.windows.net filetype:log ("error" OR "exception")', severity: 'HIGH', provider: 'AZURE', conf: 76 },
  { q: 'site:blob.core.windows.net ("pipeline" OR "build") filetype:log', severity: 'HIGH', provider: 'AZURE', conf: 84 },
  { q: 'site:blob.core.windows.net ("artifact" OR "release") filetype:zip', severity: 'HIGH', provider: 'AZURE', conf: 80 },

  // GCP
  { q: 'site:storage.googleapis.com ("backup" OR "dump") filetype:sql', severity: 'HIGH', provider: 'GCP', conf: 84 },
  { q: 'site:storage.googleapis.com ("export" OR "snapshot") filetype:csv', severity: 'HIGH', provider: 'GCP', conf: 82 },
  { q: 'site:storage.googleapis.com ("firebase" OR "firestore") filetype:json', severity: 'HIGH', provider: 'GCP', conf: 86 },
  { q: 'site:storage.googleapis.com filetype:log ("error" OR "exception")', severity: 'HIGH', provider: 'GCP', conf: 76 },
  { q: 'site:storage.googleapis.com ("build" OR "artifact") filetype:zip', severity: 'HIGH', provider: 'GCP', conf: 79 },

  /* üü° MEDIUM ‚Äî Tier 2 */
  // AWS docs
  { q: 'site:s3.amazonaws.com ("confidential" OR "internal use only" OR "restricted") filetype:pdf', severity: 'MEDIUM', provider: 'AWS', conf: 70 },
  { q: 'site:s3.amazonaws.com ("confidential" OR "internal") filetype:docx', severity: 'MEDIUM', provider: 'AWS', conf: 68 },
  { q: 'site:s3.amazonaws.com ("internal report" OR "business report") filetype:pdf', severity: 'MEDIUM', provider: 'AWS', conf: 62 },
  { q: 'site:s3.amazonaws.com ("export" OR "analysis") filetype:xlsx', severity: 'MEDIUM', provider: 'AWS', conf: 60 },

  // AZURE docs
  { q: 'site:blob.core.windows.net ("internal" OR "confidential") filetype:pdf', severity: 'MEDIUM', provider: 'AZURE', conf: 72 },
  { q: 'site:blob.core.windows.net ("private" OR "restricted") filetype:xlsx', severity: 'MEDIUM', provider: 'AZURE', conf: 70 },
  { q: 'site:blob.core.windows.net ("audit" OR "compliance") filetype:pdf', severity: 'MEDIUM', provider: 'AZURE', conf: 74 },

  // GCP reports
  { q: 'site:storage.googleapis.com ("bigquery" OR "bq") ("export" OR "result") filetype:csv', severity: 'MEDIUM', provider: 'GCP', conf: 72 },

  /* üü¢ LOW ‚Äî Recon support */
  { q: 'intitle:"index of" backup', severity: 'LOW', provider: 'GLOBAL', conf: 40 },
  { q: 'intitle:"index of" confidential', severity: 'LOW', provider: 'GLOBAL', conf: 42 }
];

/* =========================
   TARGET DORKS (High-signal)
   site:target + optional noise filters
   ========================= */
const targetDorks = [
  { q: '("internal use only" OR "not for public release" OR "do not distribute" OR "strictly private") (filetype:pdf OR filetype:docx OR filetype:pptx OR filetype:xlsx OR filetype:csv)', severity: 'HIGH', provider: 'TARGET', conf: 88 },
  { q: '("confidential" OR "restricted") ("invoice" OR "payroll" OR "employee" OR "KYC" OR "bank" OR "salary") (filetype:xlsx OR filetype:csv OR filetype:pdf)', severity: 'HIGH', provider: 'TARGET', conf: 90 },
  { q: '("backup" OR "dump" OR "db_backup" OR "database dump") (filetype:sql OR filetype:bak OR filetype:zip OR filetype:tar OR filetype:gz)', severity: 'HIGH', provider: 'TARGET', conf: 86 },
  { q: '(filetype:env OR filetype:yml OR filetype:yaml OR filetype:json) ("config" OR "settings" OR "appsettings")', severity: 'HIGH', provider: 'TARGET', conf: 84 },
  { q: '(filetype:log OR filetype:txt) ("stack trace" OR "fatal error" OR "unhandled exception" OR "exception")', severity: 'MEDIUM', provider: 'TARGET', conf: 72 },
  { q: 'intitle:"index of" ("backup" OR "dump" OR "logs" OR "config" OR "database")', severity: 'MEDIUM', provider: 'TARGET', conf: 70 }
];

/* =========================
   MISCONFIG / DEBUG (curated)
   site:target + optional noise filters
   ========================= */
const misconfigDorks = [
  { q: 'inurl:/.git/ (HEAD OR "index")', severity: 'HIGH', provider: 'MISCONFIG', conf: 92 },
  { q: 'inurl:/.svn/ (entries OR wc.db)', severity: 'HIGH', provider: 'MISCONFIG', conf: 88 },
  { q: '(filetype:zip OR filetype:tar OR filetype:gz OR filetype:rar) (backup OR dump OR "database")', severity: 'HIGH', provider: 'MISCONFIG', conf: 85 },

  { q: '(inurl:phpinfo OR intitle:"phpinfo()")', severity: 'MEDIUM', provider: 'MISCONFIG', conf: 70 },
  { q: '("Stack trace:" OR "Fatal error:" OR "Unhandled exception")', severity: 'MEDIUM', provider: 'MISCONFIG', conf: 76 },
  { q: '("Whoops, looks like something went wrong." OR "Ignition")', severity: 'MEDIUM', provider: 'MISCONFIG', conf: 78 },
  { q: '(inurl:swagger OR inurl:"api-docs" OR inurl:openapi) (json OR yaml OR ui)', severity: 'MEDIUM', provider: 'MISCONFIG', conf: 74 }
];

/* =========================
   Query builder with optional filters
   ========================= */
function buildFinalDork(dork, target) {
  const noise = getNoiseFilter();
  const hasSite = /site:\S+/i.test(dork);

  if (!target) return dork;

  // If query already has a site:, do not force another site:
  if (hasSite) return `${dork} "${target}"`.trim();

  return `site:${target} ${dork} ${noise}`.trim();
}

function search(dork, mode) {
  const target = document.getElementById('target').value.trim();
  let finalDork = dork;

  if (target) {
    if (mode === 'TARGET' || mode === 'MISCONFIG') {
      finalDork = buildFinalDork(dork, target);
    } else {
      // cloud: keep original cloud query, only narrow by keyword
      finalDork = `${dork} "${target}"`;
    }
  }

  window.open('https://www.google.com/search?q=' + encodeURIComponent(finalDork), '_blank');
}

function getActiveDorks() {
  const target = document.getElementById('target').value.trim();
  const merged = [...cloudDorks];

  if (target) {
    merged.push(...targetDorks);
    merged.push(...misconfigDorks);

    document.getElementById("footerCenter").innerHTML =
      `Target mode: <span class="accent">ON</span> ‚Ä¢ Noise filters: <span class="accent">${document.getElementById("noiseToggle").checked ? "ON" : "OFF"}</span> ‚Ä¢ Authorized & ethical testing only`;
  } else {
    document.getElementById("footerCenter").innerText = "Authorized & ethical testing only";
  }

  return merged;
}

function render() {
  const list = document.getElementById("dorkList");
  list.innerHTML = "";

  const data = getActiveDorks();

  const sections = [
    { sev: "HIGH", label: "üî¥ HIGH Severity", meta: "Tier-3 / High-impact exposure" },
    { sev: "MEDIUM", label: "üü° MEDIUM Severity", meta: "Tier-2 / Sensitive + Misconfig" },
    { sev: "LOW", label: "üü¢ LOW Severity", meta: "Recon / Supporting" }
  ];

  sections.forEach(sec => {
    const header = document.createElement("div");
    header.className = "sevHeader";
    header.innerHTML = `
      <div><b>${sec.label}</b></div>
      <div class="meta">${sec.meta}</div>
    `;
    list.appendChild(header);

    const items = data.filter(x => x.severity === sec.sev);
    if (items.length === 0) return;

    items.forEach(d => {
      const b = document.createElement("button");
      const sevClass = sec.sev.toLowerCase();

      const mode =
        d.provider === "TARGET" ? "TARGET" :
        d.provider === "MISCONFIG" ? "MISCONFIG" :
        "CLOUD";

      const conf = typeof d.conf === "number" ? d.conf : 60;

      b.innerHTML =
        `[${d.provider}] [CONF ${conf}] ${d.q} <span class="tag ${sevClass}">[${sec.sev}]</span>`;

      b.onclick = () => search(d.q, mode);
      b.oncontextmenu = e => {
        e.preventDefault();
        navigator.clipboard.writeText(d.q);
      };

      list.appendChild(b);
    });
  });
}

/* listeners */
document.getElementById("target").addEventListener("input", () => {
  clearTimeout(window.__rT);
  window.__rT = setTimeout(render, 150);
});

document.getElementById("noiseToggle").addEventListener("change", () => {
  updateNoiseUI();
  render();
});

updateNoiseUI();
render();
</script>
</body>
</html>