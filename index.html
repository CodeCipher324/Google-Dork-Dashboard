<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Dork Matrix v4.1 | CodeCipher</title>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600;700&display=swap" rel="stylesheet" />

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: 'Fira Code', monospace;
  background: black;
  color: #00ff00;
  overflow-x: hidden;
}

/* MATRIX */
#matrix {
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  z-index: 0;
  pointer-events: none;
}

#ui {
  position: relative;
  z-index: 5;
  margin-top: -8px;
}

h1 {
  text-align: center;
  padding: 12px;
  margin: 0;
  border-bottom: 1px solid rgba(0,255,0,0.75);
  text-shadow: 0 0 14px rgba(0,255,0,0.85);
  letter-spacing: 1px;
}

.container {
  display: flex;
  height: calc(100vh - 170px);
}

.left, .right {
  padding: 14px;
  overflow-y: auto;
}

.left {
  width: 68%;
  border-right: 1px solid rgba(0,255,0,0.35);
}

.right { width: 32%; }

.panel {
  border: 1px solid rgba(0,255,0,0.28);
  background: rgba(0,0,0,0.58);
  padding: 12px;
  border-radius: 16px;
  box-shadow: 0 0 16px rgba(0,255,0,0.10);
  backdrop-filter: blur(4px);
}

h3 {
  margin: 6px 0 10px;
  text-shadow: 0 0 10px rgba(0,255,0,0.22);
}

input[type="text"] {
  width: 100%;
  padding: 12px 12px;
  background: rgba(0,0,0,0.88);
  color: #00ff00;
  border: 1px solid rgba(0,255,0,0.85);
  border-radius: 12px;
  font-weight: 700;
}

input[type="text"]:focus {
  outline: none;
  box-shadow: 0 0 12px rgba(0,255,0,0.8);
}

.small {
  margin-top: 10px;
  font-size: 12.5px;
  line-height: 1.55;
  color: #99ff99;
  opacity: 0.95;
}

button {
  width: 100%;
  background: rgba(0,0,0,0.86);
  color: #00ff00;
  border: 1px solid rgba(0,255,0,0.55);
  border-left: 4px solid #00ff00;
  padding: 11px 12px;
  margin: 7px 0;
  cursor: pointer;
  font-weight: 800;
  text-align: left;
  border-radius: 14px;
  transition: all 0.20s ease;
  letter-spacing: 0.2px;
}

button:hover {
  background: #00ff00;
  color: black;
  box-shadow: 0 0 8px #00ff00, 0 0 22px rgba(0,255,0,0.8);
  transform: scale(1.01);
}

.tag { float: right; margin-left: 12px; }

.high { color: #ff6666; }
.medium { color: #ffff66; }
.low { color: #66ff66; }

.sevHeader {
  margin: 18px 0 10px;
  padding: 10px 12px;
  border: 1px solid rgba(0,255,0,0.28);
  border-left: 4px solid rgba(0,255,0,0.9);
  border-radius: 16px;
  background: rgba(0,0,0,0.64);
  text-shadow: 0 0 12px rgba(0,255,0,0.28);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.sevHeader .meta {
  font-size: 12px;
  opacity: 0.9;
  color: #99ff99;
}

.badge {
  display: inline-block;
  border: 1px solid rgba(0,255,0,0.35);
  padding: 2px 10px;
  border-radius: 999px;
  font-size: 12px;
  opacity: 0.95;
  background: rgba(0,0,0,0.35);
}

.accent {
  color: #00ffaa;
  text-shadow: 0 0 7px rgba(0,255,170,0.55);
}

footer {
  position: fixed;
  bottom: 0; left: 0;
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 9px 14px;
  background: rgba(0,0,0,0.84);
  border-top: 1px solid rgba(0,255,0,0.35);
  font-size: 12px;
  z-index: 6;
}

#footerCenter { text-align: center; }

/* Toggle switch */
.toggleWrap {
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(0,255,0,0.25);
  background: rgba(0,0,0,0.35);
}
.toggleRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  font-weight: 800;
}
.switch {
  position: relative;
  width: 52px;
  height: 28px;
  flex: 0 0 auto;
}
.switch input { display: none; }
.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,255,0,0.15);
  border: 1px solid rgba(0,255,0,0.55);
  transition: .2s;
  border-radius: 999px;
  box-shadow: 0 0 10px rgba(0,255,0,0.15);
}
.slider:before {
  position: absolute;
  content: "";
  height: 22px;
  width: 22px;
  left: 3px;
  top: 2.5px;
  background: #00ff00;
  transition: .2s;
  border-radius: 999px;
  box-shadow: 0 0 14px rgba(0,255,0,0.7);
}
input:checked + .slider {
  background: rgba(0,255,0,0.22);
  box-shadow: 0 0 16px rgba(0,255,0,0.22);
}
input:checked + .slider:before {
  transform: translateX(24px);
}

/* Mode toggle buttons */
.modeGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 12px;
}
.modeBtn {
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(0,255,0,0.35);
  background: rgba(0,0,0,0.65);
  cursor: pointer;
  font-weight: 900;
  transition: 0.18s ease;
  text-align: center;
}
.modeBtn:hover {
  box-shadow: 0 0 14px rgba(0,255,0,0.25);
  transform: translateY(-1px);
}
.modeBtn.active {
  background: rgba(0,255,0,0.18);
  border-color: rgba(0,255,0,0.75);
  box-shadow: 0 0 18px rgba(0,255,0,0.25);
}

/* MOBILE */
@media (max-width: 768px) {
  .container { flex-direction: column; height: auto; }
  .left, .right { width: 100%; border-right: none; }
  footer { flex-direction: column; text-align: center; gap: 4px; }
}
</style>
</head>

<body>
<canvas id="matrix"></canvas>

<div id="ui">
  <h1>‚ò† DORK MATRIX v4.1 ‚ò†</h1>

  <div class="container">
    <div class="left">
      <div class="panel">
        <div id="dorkList"></div>
      </div>
    </div>

    <div class="right">
      <div class="panel">
        <h3 style="margin-top:0;">üéØ Target</h3>
        <input id="target" type="text" placeholder="example.com (optional)" />

        <!-- MODE -->
        <div class="modeGrid">
          <div id="btnHunt" class="modeBtn active">HUNT MODE</div>
          <div id="btnRecon" class="modeBtn">RECON MODE</div>
        </div>

        <!-- NOISE FILTER TOGGLE -->
        <div class="toggleWrap">
          <div class="toggleRow">
            <div>Noise Filters: <span class="accent" id="noiseState">ON</span></div>
            <label class="switch">
              <input type="checkbox" id="noiseToggle" checked />
              <span class="slider"></span>
            </label>
          </div>
          <div class="small" style="margin-top:8px;">
            ON = reduce trash folders (recommended)<br/>
            OFF = maximum results (use if results disappear)
          </div>
        </div>

        <div class="small">
          ‚úÖ HUNT = dorks (cloud + target + misconfig)<br/>
          ‚úÖ RECON = quick buttons (Wayback, GitHub, JS, robots, sitemap, subdomains)<br/>
          üí° Right-click any button ‚Üí copy query
        </div>
      </div>

      <div style="height:12px;"></div>

      <div class="panel">
        <h3 style="margin-top:0;">‚ö° Mobile Workflow</h3>
        <div class="small">
          1) Enter target<br/>
          2) Run RECON first<br/>
          3) Switch to HUNT<br/>
          4) Validate minimal proof only ‚úÖ
        </div>
      </div>
    </div>
  </div>

  <footer>
    <div>Made with ‚ù§Ô∏è by <span class="accent">CodeCipher</span></div>
    <div id="footerCenter">Authorized & ethical testing only</div>
    <div>Happy Hunting ‚ò†Ô∏è</div>
  </footer>
</div>

<script>
/* =========================
   MATRIX EFFECT
   ========================= */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

const chars = "01ABCDEFGHIJKLMNOPQRSTUVWXYZ@#$%^&*";
const fontSize = 14;
let drops = [];

function initDrops() {
  const cols = Math.floor(canvas.width / fontSize);
  drops = Array(cols).fill(1);
}
initDrops();
window.addEventListener("resize", initDrops);

function drawMatrix() {
  ctx.fillStyle = "rgba(0,0,0,0.25)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = "#00ff00";
  ctx.font = fontSize + "px monospace";

  drops.forEach((y,i)=>{
    const text = chars[Math.floor(Math.random()*chars.length)];
    ctx.fillText(text,i*fontSize,y*fontSize);
    if(y*fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
    drops[i]++;
  });
}
setInterval(drawMatrix, 50);

/* =========================
   STATE
   ========================= */
let MODE = "HUNT"; // HUNT | RECON

/* =========================
   NOISE FILTER (toggle)
   ========================= */
const NOISE_FILTER =
  '-inurl:assets -inurl:static -inurl:media -inurl:img -inurl:images -inurl:css -inurl:js -inurl:fonts ' +
  '-inurl:blog -inurl:press -inurl:news -inurl:about -inurl:careers -inurl:jobs ' +
  '-inurl:privacy -inurl:terms -inurl:cookie -inurl:help -inurl:support -inurl:docs';

function getNoiseFilter() {
  return document.getElementById("noiseToggle").checked ? NOISE_FILTER : "";
}

function updateNoiseUI() {
  const enabled = document.getElementById("noiseToggle").checked;
  document.getElementById("noiseState").textContent = enabled ? "ON" : "OFF";
}

/* =========================
   CLOUD DORKS (same)
   ========================= */
const cloudDorks = [
  { q: 'site:s3.amazonaws.com ("backup" OR "db_backup" OR "database dump") filetype:sql', severity: 'HIGH', provider: 'AWS', conf: 85 },
  { q: 'site:blob.core.windows.net ("connection string") filetype:json', severity: 'HIGH', provider: 'AZURE', conf: 90 },
  { q: 'site:storage.googleapis.com ("firebase" OR "firestore") filetype:json', severity: 'HIGH', provider: 'GCP', conf: 86 },

  { q: 'site:s3.amazonaws.com ("confidential" OR "internal use only" OR "restricted") filetype:pdf', severity: 'MEDIUM', provider: 'AWS', conf: 70 },
  { q: 'site:blob.core.windows.net ("internal" OR "confidential") filetype:pdf', severity: 'MEDIUM', provider: 'AZURE', conf: 72 },

  { q: 'intitle:"index of" backup', severity: 'LOW', provider: 'GLOBAL', conf: 40 }
];

/* =========================
   TARGET DORKS (UPDATED)
   ‚ùå Removed filetype restrictions as you asked
   ‚úÖ full results (webpages + docs)
   ========================= */
const targetDorks = [
  { q: '("internal use only" OR "not for public release" OR "do not distribute" OR "strictly private")', severity: 'HIGH', provider: 'TARGET', conf: 88 },
  { q: '("confidential" OR "restricted") ("invoice" OR "payroll" OR "employee" OR "KYC" OR "bank" OR "salary")', severity: 'HIGH', provider: 'TARGET', conf: 92 },
  { q: '("backup" OR "dump" OR "db_backup" OR "database dump")', severity: 'HIGH', provider: 'TARGET', conf: 86 },
  { q: '("appsettings" OR "configuration") ("secret" OR "password" OR "token" OR "apikey" OR "api key")', severity: 'HIGH', provider: 'TARGET', conf: 90 },

  { q: '("stack trace" OR "fatal error" OR "unhandled exception" OR "exception")', severity: 'MEDIUM', provider: 'TARGET', conf: 75 },
  { q: 'intitle:"index of" ("backup" OR "dump" OR "logs" OR "config" OR "database")', severity: 'MEDIUM', provider: 'TARGET', conf: 70 }
];

/* =========================
   MISCONFIG / DEBUG (kept)
   ========================= */
const misconfigDorks = [
  { q: 'inurl:/.git/ (HEAD OR "index")', severity: 'HIGH', provider: 'MISCONFIG', conf: 92 },
  { q: '(filetype:zip OR filetype:tar OR filetype:gz OR filetype:rar) (backup OR dump OR "database")', severity: 'HIGH', provider: 'MISCONFIG', conf: 85 },

  { q: '(inurl:phpinfo OR intitle:"phpinfo()")', severity: 'MEDIUM', provider: 'MISCONFIG', conf: 70 },
  { q: '("Whoops, looks like something went wrong." OR "Ignition")', severity: 'MEDIUM', provider: 'MISCONFIG', conf: 78 },
  { q: '(inurl:swagger OR inurl:"api-docs" OR inurl:openapi) (json OR yaml OR ui)', severity: 'MEDIUM', provider: 'MISCONFIG', conf: 74 }
];

/* =========================
   RECON BUTTONS (new)
   These generate queries from target
   ========================= */
function reconItems(target) {
  if (!target) {
    return [
      { label: "‚ö† Enter target for Recon Mode", q: 'site:example.com', provider: "RECON", severity: "LOW", conf: 0 }
    ];
  }

  const t = target.trim();
  return [
    // Core discovery
    { label: "üåê site:target", q: `site:${t}`, provider: "RECON", severity: "LOW", conf: 0 },
    { label: "üåê Subdomains", q: `site:*.${t} -www`, provider: "RECON", severity: "LOW", conf: 0 },

    // Robots / sitemap
    { label: "ü§ñ robots.txt", open: `https://${t}/robots.txt` },
    { label: "üó∫ sitemap.xml", open: `https://${t}/sitemap.xml` },

    // JS recon
    { label: "üß© JavaScript files", q: `site:${t} ext:js`, provider: "RECON", severity: "LOW", conf: 0 },
    { label: "üß® Source maps", q: `site:${t} filetype:map`, provider: "RECON", severity: "LOW", conf: 0 },

    // API recon
    { label: "üõ∞ API endpoints", q: `site:${t} (inurl:api OR inurl:v1 OR inurl:v2 OR inurl:graphql)`, provider: "RECON", severity: "LOW", conf: 0 },
    { label: "üìò Swagger/OpenAPI", q: `site:${t} (inurl:swagger OR inurl:openapi OR inurl:api-docs)`, provider: "RECON", severity: "LOW", conf: 0 },

    // GitHub Recon
    { label: "üêô GitHub mentions", q: `site:github.com "${t}"`, provider: "RECON", severity: "LOW", conf: 0 },
    { label: "üîë GitHub secrets hunt", q: `site:github.com "${t}" (api_key OR apikey OR token OR secret OR password OR AWS_SECRET_ACCESS_KEY)`, provider: "RECON", severity: "LOW", conf: 0 },

    // Wayback Recon
    { label: "üïí Wayback URLs", open: `https://web.archive.org/web/*/${t}/*` }
  ];
}

/* =========================
   Query builder with optional filters
   Target + Misconfig use site:target + optional NOISE
   Cloud keeps as-is (only narrowed by keyword)
   ========================= */
function buildFinalDork(dork, target) {
  const noise = getNoiseFilter();
  const hasSite = /site:\S+/i.test(dork);

  if (!target) return dork;

  // If already has site: keep it, optionally add keyword narrowing only
  if (hasSite) return `${dork} "${target}"`.trim();

  return `site:${target} ${dork} ${noise}`.trim();
}

function search(dork, mode) {
  const target = document.getElementById('target').value.trim();
  let finalDork = dork;

  if (target) {
    if (mode === 'TARGET' || mode === 'MISCONFIG') {
      finalDork = buildFinalDork(dork, target);
    } else if (mode === 'CLOUD') {
      finalDork = `${dork} "${target}"`;
    } else {
      finalDork = dork;
    }
  }

  window.open('https://www.google.com/search?q=' + encodeURIComponent(finalDork), '_blank');
}

function getActiveDorks() {
  const target = document.getElementById('target').value.trim();

  if (MODE === "RECON") {
    return reconItems(target);
  }

  // HUNT
  const merged = [...cloudDorks];
  if (target) merged.push(...targetDorks, ...misconfigDorks);
  return merged;
}

/* =========================
   RENDER
   ========================= */
function render() {
  const list = document.getElementById("dorkList");
  list.innerHTML = "";

  const target = document.getElementById('target').value.trim();
  const data = getActiveDorks();

  // Footer status
  if (MODE === "RECON") {
    document.getElementById("footerCenter").innerHTML =
      `Mode: <span class="accent">RECON</span> ‚Ä¢ Target: <span class="accent">${target ? "SET" : "EMPTY"}</span>`;
  } else {
    document.getElementById("footerCenter").innerHTML =
      `Mode: <span class="accent">HUNT</span> ‚Ä¢ Target: <span class="accent">${target ? "ON" : "OFF"}</span> ‚Ä¢ Noise: <span class="accent">${document.getElementById("noiseToggle").checked ? "ON" : "OFF"}</span>`;
  }

  // RECON MODE RENDER (simple)
  if (MODE === "RECON") {
    const header = document.createElement("div");
    header.className = "sevHeader";
    header.innerHTML = `
      <div><b>üõ∞ RECON MODE</b></div>
      <div class="meta">Wayback ‚Ä¢ GitHub ‚Ä¢ JS ‚Ä¢ robots/sitemap ‚Ä¢ Subdomains</div>
    `;
    list.appendChild(header);

    data.forEach(item => {
      const b = document.createElement("button");
      if (item.open) {
        b.innerHTML = `${item.label} <span class="tag low">[OPEN]</span>`;
        b.onclick = () => window.open(item.open, "_blank");
        b.oncontextmenu = e => { e.preventDefault(); navigator.clipboard.writeText(item.open); };
      } else {
        b.innerHTML = `${item.label} ‚Üí ${item.q} <span class="tag low">[SEARCH]</span>`;
        b.onclick = () => window.open('https://www.google.com/search?q=' + encodeURIComponent(item.q), '_blank');
        b.oncontextmenu = e => { e.preventDefault(); navigator.clipboard.writeText(item.q); };
      }
      list.appendChild(b);
    });
    return;
  }

  // HUNT MODE RENDER (severity grouping)
  const sections = [
    { sev: "HIGH", label: "üî¥ HIGH Severity", meta: "Tier-3 / High-impact exposure" },
    { sev: "MEDIUM", label: "üü° MEDIUM Severity", meta: "Tier-2 / Sensitive + Misconfig" },
    { sev: "LOW", label: "üü¢ LOW Severity", meta: "Recon / Supporting" }
  ];

  sections.forEach(sec => {
    const header = document.createElement("div");
    header.className = "sevHeader";
    header.innerHTML = `
      <div><b>${sec.label}</b></div>
      <div class="meta">${sec.meta}</div>
    `;
    list.appendChild(header);

    const items = data.filter(x => x.severity === sec.sev);
    if (items.length === 0) return;

    items.forEach(d => {
      const b = document.createElement("button");
      const sevClass = sec.sev.toLowerCase();

      const mode =
        d.provider === "TARGET" ? "TARGET" :
        d.provider === "MISCONFIG" ? "MISCONFIG" :
        "CLOUD";

      const conf = typeof d.conf === "number" ? d.conf : 60;

      b.innerHTML =
        `[${d.provider}] [CONF ${conf}] ${d.q} <span class="tag ${sevClass}">[${sec.sev}]</span>`;

      b.onclick = () => search(d.q, mode);
      b.oncontextmenu = e => { e.preventDefault(); navigator.clipboard.writeText(d.q); };

      list.appendChild(b);
    });
  });
}

/* =========================
   UI EVENTS
   ========================= */
const btnHunt = document.getElementById("btnHunt");
const btnRecon = document.getElementById("btnRecon");

btnHunt.addEventListener("click", () => {
  MODE = "HUNT";
  btnHunt.classList.add("active");
  btnRecon.classList.remove("active");
  render();
});

btnRecon.addEventListener("click", () => {
  MODE = "RECON";
  btnRecon.classList.add("active");
  btnHunt.classList.remove("active");
  render();
});

document.getElementById("target").addEventListener("input", () => {
  clearTimeout(window.__rT);
  window.__rT = setTimeout(render, 150);
});

document.getElementById("noiseToggle").addEventListener("change", () => {
  updateNoiseUI();
  render();
});

updateNoiseUI();
render();
</script>
</body>
</html>